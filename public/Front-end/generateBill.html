<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill</title>
    <link rel="stylesheet" href="./CSS/generateB.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">

        <header>
            <img src="./Images/download.png" alt="Organization Logo" class="logo">
            <h1>VitalCare Health Services Bill</h1>
        </header>

        <h2>Patient Details</h2>
        <div class="bill-container">
            <table>
                <tr>
                    <td>Name:</td>
                    <td>{{patient_name}}</td>
                </tr>
                <tr>
                    <td>Phone Number:</td>
                    <td>{{p_phno}}</td>
                </tr>
                <tr>
                    <td>Home Address:</td>
                    <td>{{h_add}}</td>
                </tr>
                <tr>
                    <td>Patient Address:</td>
                    <td>{{p_add}}</td>
                </tr>
            </table>
        </div>

        <h2>Donor Details</h2>
        <div class="bill-container">
            <table>
                <tr>
                    <td>Name:</td>
                    <td>{{donor_name}}</td>
                </tr>
                <tr>
                    <td>Phone Number:</td>
                    <td>{{phone_no}}</td>
                </tr>
                <tr>
                    <td>Address:</td>
                    <td>{{donor_address}}</td>
                </tr>
            </table>
        </div>

        <h2>Blood Details</h2>
        <div class="bill-container">
            <table>
                <tr>
                    <td>Blood Type:</td>
                    <td>{{blood_type}}</td>
                </tr>
                <tr>
                    <td>Blood Bank:</td>
                    <td>{{blood_bank_name}}</td>
                </tr>
            </table>
        </div>

    </div>

    <button id="downloadPdf">Download PDF</button>
    <a href="/index">Go to Home </a>

    <script>
        document.getElementById('downloadPdf').addEventListener('click', function () {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.text("VitalCare Health Services Bill", 10, 10);
            doc.text("Patient Details", 10, 20);
            doc.text("Name: {{patient_name}}", 10, 30);
            doc.text("Phone Number: {{p_phno}}", 10, 40);
            doc.text("Home Address: {{h_add}}", 10, 50);
            doc.text("Patient Address: {{p_add}}", 10, 60);

            doc.text("Donor Details", 10, 70);
            doc.text("Name: {{donor_name}}", 10, 80);
            doc.text("Phone Number: {{phone_no}}", 10, 90);
            doc.text("Address: {{donor_address}}", 10, 100);

            doc.text("Blood Details", 10, 110);
            doc.text("Blood Type: {{blood_type}}", 10, 120);
            doc.text("Blood Bank: {{blood_bank_name}}", 10, 130);

            doc.save('bill.pdf');
        });
    </script>
</body>
</html>